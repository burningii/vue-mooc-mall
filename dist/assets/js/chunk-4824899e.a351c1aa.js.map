{"version":3,"sources":["webpack:///./src/views/GoodsList.vue?8bf4","webpack:///./src/views/GoodsList.vue?7de5","webpack:///src/views/GoodsList.vue","webpack:///./src/views/GoodsList.vue?4f31","webpack:///./src/views/GoodsList.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_iview_loader_1_2_2_iview_loader_index_js_ref_0_2_GoodsList_vue_vue_type_style_index_0_id_6f4a2a8b_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_iview_loader_1_2_2_iview_loader_index_js_ref_0_2_GoodsList_vue_vue_type_style_index_0_id_6f4a2a8b_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","click","sortGoods","attrs","to","src","_e","sortFlag","nativeOn","$event","filterByVisible","id","offset-top","class","price-hover","priceClicked","itemClass","_l","item","index","key","_s","startPrice","endPrice","product","directives","name","rawName","value","productImage","expression","productName","_f","salePrice","addCart","_id","checkedLove","userInfo","content","size","type","editProductLove","color","infinite-scroll-disabled","infinite-scroll-distance","class-name","closable","model","callback","$$v","staticStyle","letter-spacing","font-size","slot","staticRenderFns","GoodsListvue_type_script_lang_js_","mixins","mixin","components","MoocMallHeader","MoocMallBread","MoocMallFooter","data","price","products","page","pageSize","loading","busy","endList","mounted","getGoodsList","computed","methods","flag","_this","param","_axios_0_18_0_axios_default","a","get","params","then","response","res","status","result","count","concat","list","productId","_this2","v","post","$Modal","success","title","okText","onOk","$router","push","$message","showClose","message","loadMore","_this3","setTimeout","_this4","views_GoodsListvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"assets/js/chunk-4824899e.a351c1aa.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/_iview-loader@1.2.2@iview-loader/index.js??ref--0-2!./GoodsList.vue?vue&type=style&index=0&id=6f4a2a8b&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/_iview-loader@1.2.2@iview-loader/index.js??ref--0-2!./GoodsList.vue?vue&type=style&index=0&id=6f4a2a8b&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('mooc-mall-header'),_c('mooc-mall-bread',[_vm._v(\"\\n        GOODS\\n    \")]),_c('div',{staticClass:\"mooc-mall-sort\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"sort-wrapper\"},[_c('span',[_vm._v(\"Sort By:\")]),_c('span',{on:{\"click\":_vm.sortGoods}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Price \"),(_vm.sortFlag)?_c('img',{staticClass:\"sort-icon\",attrs:{\"src\":\"utils-alibaba/up.png\"}}):_vm._e(),(!_vm.sortFlag)?_c('img',{staticClass:\"sort-icon\",attrs:{\"src\":\"utils-alibaba/down-o.png\"}}):_vm._e()])],1)]),_c('div',{staticClass:\"filterBy\"},[_c('router-link',{attrs:{\"to\":\"#\"},nativeOn:{\"click\":function($event){_vm.filterByVisible=true}}},[_vm._v(\"FILTER BY\")])],1)])]),_c('div',{staticClass:\"container response-goods\"},[_c('div',{staticClass:\"goods-main\",attrs:{\"id\":\"GoodsOffsetTop\"}},[_c('Affix',{attrs:{\"offset-top\":200}},[_c('div',{staticClass:\"mooc-mall-price-between\"},[_c('div',{staticClass:\"mooc-mall-price-wrapper\"},[_vm._v(\"P R I C E:\")]),_c('ul',[_c('li',{class:{'price-hover':_vm.priceClicked=='all' },on:{\"click\":function($event){return _vm.itemClass('all')}}},[_vm._v(\"ALL\")]),_vm._l((_vm.price),function(item,index){return _c('li',{key:index,class:{'price-hover': _vm.priceClicked == index},on:{\"click\":function($event){return _vm.itemClass(index)}}},[_vm._v(\"\\n                            \"+_vm._s(item.startPrice)+\" - \"+_vm._s(item.endPrice)+\"\\n                        \")])})],2)])]),_c('div',{staticClass:\"mooc-mall-goods\"},[_c('ul',{staticClass:\"mooc-mall-goods-ul\"},_vm._l((_vm.products),function(product,index){return _c('li',{key:index,staticClass:\"goods-list-li\"},[_c('div',{staticClass:\"goods-pic\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:('productsImg/'+product.productImage),expression:\"'productsImg/'+product.productImage\"}],key:product.productImage})]),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"goods-text\"},[_vm._v(\"\\n                                \"+_vm._s(product.productName)+\"\\n                            \")]),_c('div',{staticClass:\"goods-price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(product.salePrice,'¥')))]),_c('div',{staticClass:\"goods-add-cart\"},[_c('router-link',{attrs:{\"to\":\"\"},nativeOn:{\"click\":function($event){return _vm.addCart(product._id)}}},[_vm._v(\"加入购物车\")])],1)]),_c('div',{staticClass:\"goods-user-collection-modal\"},[_c('Tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.checkedLove=='0' && _vm.userInfo),expression:\"product.checkedLove=='0' && userInfo\"}],attrs:{\"content\":\"收藏商品\"}},[_c('Icon',{attrs:{\"size\":\"26\",\"type\":\"ios-heart-outline\"},on:{\"click\":function($event){return _vm.editProductLove('add', product)}}})],1),_c('Tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.checkedLove=='1' && _vm.userInfo),expression:\"product.checkedLove=='1' && userInfo\"}],attrs:{\"content\":\"取消收藏\"}},[_c('Icon',{attrs:{\"size\":\"26\",\"color\":\"#D1434A\",\"type\":\"md-heart\"},on:{\"click\":function($event){return _vm.editProductLove('remove',product)}}})],1)],1)])}),0),_c('ul',{staticClass:\"mooc-mall-goods-ul-responsevie\"},_vm._l((_vm.products),function(product,index){return _c('li',{key:index,staticClass:\"goods-list-li\"},[_c('div',{staticClass:\"goods-pic\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:('productsImg/'+product.productImage),expression:\"'productsImg/'+product.productImage\"}],key:product.productImage})]),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"goods-text\"},[_vm._v(\"\\n                                \"+_vm._s(product.productName)+\"\\n                            \")]),_c('div',{staticClass:\"goods-price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(product.salePrice,'¥')))]),_c('div',{staticClass:\"goods-add-cart\"},[_c('router-link',{attrs:{\"to\":\"\"},nativeOn:{\"click\":function($event){return _vm.addCart(product._id)}}},[_vm._v(\"加入购物车\")])],1)]),_c('div',{staticClass:\"goods-user-collection-modal\"},[_c('Tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.checkedLove=='0' && _vm.userInfo),expression:\"product.checkedLove=='0' && userInfo\"}],attrs:{\"content\":\"收藏商品\"}},[_c('Icon',{attrs:{\"size\":\"26\",\"type\":\"ios-heart-outline\"},on:{\"click\":function($event){return _vm.editProductLove('add', product)}}})],1),_c('Tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.checkedLove=='1' && _vm.userInfo),expression:\"product.checkedLove=='1' && userInfo\"}],attrs:{\"content\":\"取消收藏\"}},[_c('Icon',{attrs:{\"size\":\"26\",\"color\":\"#D1434A\",\"type\":\"md-heart\"},on:{\"click\":function($event){return _vm.editProductLove('remove',product)}}})],1)],1)])}),0),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"viewMore\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"5\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"src\":\"loading-svg/loading-spinning-bubbles.svg\"}}),(_vm.endList)?_c('div',[_vm._v(\"没有更多了～～～\")]):_vm._e()])])],1)]),_c('BackTop'),_c('mooc-mall-footer'),_c('Drawer',{attrs:{\"class-name\":\"filterBy-priceChecked\",\"closable\":true},model:{value:(_vm.filterByVisible),callback:function ($$v) {_vm.filterByVisible=$$v},expression:\"filterByVisible\"}},[_c('p',{staticStyle:{\"letter-spacing\":\"0.3rem\",\"font-size\":\"1.6rem\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"PRICE:\")]),_c('ul',[_c('li',{class:{'price-hover':_vm.priceClicked=='all' },on:{\"click\":function($event){return _vm.itemClass('all')}}},[_vm._v(\"ALL\")]),_vm._l((_vm.price),function(item,index){return _c('li',{key:index,class:{'price-hover': _vm.priceClicked == index},on:{\"click\":function($event){return _vm.itemClass(index)}}},[_vm._v(\"\\n                \"+_vm._s(item.startPrice)+\" - \"+_vm._s(item.endPrice)+\"\\n            \")])})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"home\">\n        <mooc-mall-header></mooc-mall-header>\n        <mooc-mall-bread>\n            GOODS\n        </mooc-mall-bread>\n        <div class=\"mooc-mall-sort\">\n            <div class=\"container\">\n                <div class=\"sort-wrapper\">\n                    <span>Sort By:</span>\n                    <!-- <span @click=\"sortOnDefault\"><router-link to=\"/\">Default</router-link></span>-->\n                    <span @click=\"sortGoods\"><router-link to=\"/\">Price <img v-if=\"sortFlag\" class=\"sort-icon\"\n                                                                            src=\"utils-alibaba/up.png\"><img\n                        class=\"sort-icon\" v-if=\"!sortFlag\" src=\"utils-alibaba/down-o.png\"></router-link></span>\n                </div>\n                <div class=\"filterBy\">\n                    <router-link @click.native=\"filterByVisible=true\" to=\"#\">FILTER BY</router-link>\n                </div>\n            </div>\n        </div>\n        <div class=\"container response-goods\">\n            <div id=\"GoodsOffsetTop\" class=\"goods-main\">\n                <Affix :offset-top=\"200\">\n                    <div class=\"mooc-mall-price-between\">\n                        <div class=\"mooc-mall-price-wrapper\">P R I C E:</div>\n                        <ul>\n                            <li :class=\"{'price-hover':priceClicked=='all' }\" @click=\"itemClass('all')\">ALL</li>\n                            <li v-for=\"(item,index) in price\" :key=\"index\"\n                                :class=\"{'price-hover': priceClicked == index}\"\n                                @click=\"itemClass(index)\">\n                                {{item.startPrice}} - {{item.endPrice}}\n                            </li>\n                        </ul>\n                    </div>\n                </Affix>\n                <div class=\"mooc-mall-goods\">\n                    <ul class=\"mooc-mall-goods-ul\">\n                        <li v-for=\"(product, index) in products\" :key=\"index\" class=\"goods-list-li\">\n                            <div class=\"goods-pic\">\n                                <img :key=\"product.productImage\" v-lazy=\"'productsImg/'+product.productImage\">\n                            </div>\n                            <div class=\"goods-desc\">\n                                <div class=\"goods-text\">\n                                    {{product.productName}}\n                                </div>\n                                <div class=\"goods-price\">{{product.salePrice | currency('¥')}}</div>\n                                <div class=\"goods-add-cart\">\n                                    <router-link to=\"\" @click.native=\"addCart(product._id)\">加入购物车</router-link>\n                                </div>\n                            </div>\n                            <div class=\"goods-user-collection-modal\">\n                                <Tooltip content=\"收藏商品\" v-show=\"product.checkedLove=='0' && userInfo\">\n                                    <Icon @click=\"editProductLove('add', product)\"\n                                          size=\"26\" type=\"ios-heart-outline\"/>\n                                </Tooltip>\n                                <Tooltip content=\"取消收藏\" v-show=\"product.checkedLove=='1' && userInfo\">\n                                    <Icon @click=\"editProductLove('remove',product)\"\n                                          size=\"26\" color=\"#D1434A\"\n                                          type=\"md-heart\"/>\n                                </Tooltip>\n                            </div>\n                        </li>\n                    </ul>\n                    <ul class=\"mooc-mall-goods-ul-responsevie\">\n                        <li v-for=\"(product, index) in products\" :key=\"index\" class=\"goods-list-li\">\n                            <div class=\"goods-pic\">\n                                <img :key=\"product.productImage\" v-lazy=\"'productsImg/'+product.productImage\">\n                            </div>\n                            <div class=\"goods-desc\">\n                                <div class=\"goods-text\">\n                                    {{product.productName}}\n                                </div>\n                                <div class=\"goods-price\">{{product.salePrice | currency('¥')}}</div>\n                                <div class=\"goods-add-cart\">\n                                    <router-link to=\"\" @click.native=\"addCart(product._id)\">加入购物车</router-link>\n                                </div>\n                            </div>\n                            <div class=\"goods-user-collection-modal\">\n                                <Tooltip content=\"收藏商品\" v-show=\"product.checkedLove=='0' && userInfo\">\n                                    <Icon @click=\"editProductLove('add', product)\"\n                                          size=\"26\" type=\"ios-heart-outline\"/>\n                                </Tooltip>\n                                <Tooltip content=\"取消收藏\" v-show=\"product.checkedLove=='1' && userInfo\">\n                                    <Icon @click=\"editProductLove('remove',product)\"\n                                          size=\"26\" color=\"#D1434A\"\n                                          type=\"md-heart\"/>\n                                </Tooltip>\n                            </div>\n                        </li>\n                    </ul>\n                    <div class=\"viewMore\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\"\n                         infinite-scroll-distance=\"5\">\n                        <img src=\"loading-svg/loading-spinning-bubbles.svg\" v-show=\"loading\">\n                        <div v-if=\"endList\">没有更多了～～～</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <BackTop></BackTop>\n        <mooc-mall-footer></mooc-mall-footer>\n        <Drawer class-name=\"filterBy-priceChecked\" :closable=\"true\" v-model=\"filterByVisible\">\n            <p slot=\"header\" style=\"letter-spacing: 0.3rem;font-size: 1.6rem;\">PRICE:</p>\n            <ul>\n                <li :class=\"{'price-hover':priceClicked=='all' }\" @click=\"itemClass('all')\">ALL</li>\n                <li v-for=\"(item,index) in price\" :key=\"index\"\n                    :class=\"{'price-hover': priceClicked == index}\"\n                    @click=\"itemClass(index)\">\n                    {{item.startPrice}} - {{item.endPrice}}\n                </li>\n            </ul>\n        </Drawer>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    import MoocMallHeader from '@/components/MoocMallHeader'\n    import MoocMallBread from '@/components/MoocMallBread'\n    import MoocMallFooter from '@/components/MoocMallFooter'\n    import { mallMixin } from '../utils/mixin'\n\n    export default {\n        name: 'goodslist',\n        mixins: [mallMixin],\n        components: {\n            MoocMallHeader,\n            MoocMallBread,\n            MoocMallFooter\n        },\n        data () {\n            return {\n                priceClicked: 'all',\n                price: [\n                    {\n                        startPrice: '0',\n                        endPrice: '100.00',\n                    },\n                    {\n                        startPrice: '100.00',\n                        endPrice: '500.00',\n                    },\n                    {\n                        startPrice: '500.00',\n                        endPrice: '1000.00',\n                    },\n                    {\n                        startPrice: '1000.00',\n                        endPrice: '2000.00',\n                    }\n                ],\n                products: [],\n                page: 1,\n                pageSize: 8,\n                filterByVisible:false,\n                loading: false,\n                busy: true,\n                endList: false,\n                sortFlag: true, // true: 从小到大为1（默认）   false: 反之，为-1\n            }\n        },\n        mounted () {\n            this.getGoodsList()\n        },\n        computed: {},\n        methods: {\n            itemClass (index) {\n                this.priceClicked = index\n                this.filterByVisible=false\n                this.page = 1\n                this.getGoodsList()\n            },\n            getGoodsList (flag) {\n                let param = {\n                    page: this.page,\n                    pageSize: this.pageSize,\n                    sortFlag: this.sortFlag ? 1 : -1,\n                    // 价格区间功能\n                    priceClicked: this.priceClicked\n                }\n                // 开启加载动画\n                this.loading = true\n                this.endList = false\n                axios.get('/goods/list', {\n                    params: param\n                }).then((response) => {\n                    let res = response.data\n                    this.loading = false\n                    if (res.status == '0') {\n                        // 如果为第二次请求，说明为无限滚动加载的，要累积到已有的数组\n                        if (flag) {\n                            if (res.result.count == 0) {\n                                this.busy = true\n                                this.endList = true\n                            } else {\n                                this.busy = false\n                                this.products = this.products.concat(res.result.list)\n                                // console.log(res.result.list)\n                            }\n                        } else {\n                            this.busy = false\n                            this.products = res.result.list\n                            // console.log(res.result.list)\n                        }\n                    } else {\n                        this.products = []\n                    }\n\n                    // console.log(response.data.result.list)\n                })\n            },\n            // 排序商品\n            sortGoods () {\n                this.sortFlag = !this.sortFlag\n                this.page = 1\n                this.getGoodsList()\n            },\n            // 添加到购物车\n            addCart (productId) {\n                if (productId) {\n                    let v=this\n                    axios.post('/goods/addCart', {\n                        productId: productId\n                    }).then((response) => {\n                        let res = response.data\n                        if (res.status == '0') {\n                            this.$Modal.success({\n                                title: '提示',\n                                content: '添加成功',\n                                okText: '去购物车',\n                                closable: true,\n                                onOk: function () {\n                                    v.$router.push('/cart')\n                                }\n                            })\n\n                            // this.$confirm(``, '添加成功', {\n                            //     confirmButtonText: '去购物车',\n                            //     cancelButtonText: '继续购物',\n                            //     type: 'success',\n                            //     center: true\n                            // }).then(() => {\n                            //     this.$router.push('/cart')\n                            // }).catch(() => {\n                            //\n                            // })\n                        } else {\n                            this.$message({\n                                showClose: true,\n                                message: '当前未登录',\n                                type: 'error'\n                            })\n                        }\n                    })\n                }\n            },\n\n            // 加载更多\n            loadMore () {\n                this.busy = true\n                this.loading = true\n                setTimeout(() => {\n                    this.page++\n                    this.getGoodsList(true)\n                }, 500)\n            },\n\n            //编辑用户的收藏\n            editProductLove (flag, product) {\n                // console.log('ok')\n                // 添加收藏\n                if (flag == 'add') {\n                    product.checkedLove = '1'\n                } else if (flag == 'remove') { // 移除收藏\n                    product.checkedLove = '0'\n                }\n\n                axios.post('/users/editUserLove', {\n                    flag: flag,\n                    productId: product._id\n                }).then(response => {\n                    let res = response.data\n                    if (res.status == '0') {\n                        this.$message({\n                            showClose: true,\n                            message: '操作成功',\n                            type: 'success'\n                        })\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .mooc-mall-sort {\n        .sort-wrapper {\n            background-color: #fff;\n            height: 70px;\n            margin-top: 30px;\n            line-height: 70px;\n            text-align: right;\n            font-size: 15px;\n\n            span {\n                margin-right: 10px;\n\n                a {\n                    color: #000;\n                }\n            }\n\n            .sort-icon {\n                width: 15px;\n                display: inline-block;\n                vertical-align: middle;\n            }\n        }\n        .filterBy {\n            display: none;\n        }\n    }\n\n\n    .mooc-mall-price-between {\n        width: 230px;\n        padding: 0 20px;\n        flex: 1;\n\n        .mooc-mall-price-wrapper {\n            font-weight: bold;\n            font-size: 15px;\n        }\n\n        ul li {\n            margin-top: 25px;\n            cursor: pointer;\n            transition: padding-left 0.3s;\n            font-size: 15px;\n        }\n\n        ul li:hover {\n            border-left: 3px solid #D1434A;\n            padding-left: 10px;\n            color: #D1434A;\n            font-weight: bold;\n        }\n    }\n\n    .price-hover {\n        border-left: 3px solid #D1434A;\n        padding-left: 10px;\n        color: #D1434A;\n        font-weight: bold;\n    }\n\n    .goods-main {\n        display: flex;\n        margin-top: 35px;\n\n        .mooc-mall-goods {\n            flex: 4;\n\n            .viewMore {\n                text-align: center;\n                height: 55px;\n                color: #cccccc;\n                font-size: 16px;\n                font-weight: 600;\n                letter-spacing: 2px;\n                /*border: 1px solid #000;*/\n                line-height: 55px;\n            }\n\n            .mooc-mall-goods-ul {\n                display: flex;\n                flex-wrap: wrap;\n                /*justify-items: center;*/\n                align-items: center;\n                .goods-list-li {\n                    width: 23.80952%;\n                    /*width: 200px;*/\n                    margin-bottom: 35px;\n                    margin-left: 10px;\n                    border: 1px solid #cccccc;\n                    background-color: #fff;\n                    transition: all .5s ease-out;\n                    position: relative;\n\n                    &:hover {\n                        .goods-user-collection-modal {\n                            opacity: 1;\n                        }\n                    }\n\n                    .goods-pic {\n                        overflow: hidden;\n\n                        img {\n                            width: 100%;\n                            border: 0;\n                        }\n                    }\n\n                    .goods-desc {\n                        padding: 15px;\n\n                        .goods-text {\n                            font-weight: bold;\n                            font-size: 1rem;\n                        }\n\n                        .goods-price {\n                            margin-top: 1.5rem;\n                            color: #D1434A;\n                            font-size: 1.38rem;\n                        }\n\n                        .goods-add-cart {\n                            border: 1px solid #D1434A;\n                            color: #d1434a;\n                            text-align: center;\n                            margin-top: 12px;\n                            font-weight: 700;\n                            letter-spacing: .25em;\n                            height: 42px;\n                            line-height: 40px;\n\n                            a {\n                                width: 100%;\n                                display: inline-block;\n                                color: #D1434A;\n                                font-size: 1rem;\n                                /*font-size: px2rem(14);*/\n                            }\n\n                            a:hover {\n                                background-color: #ffe5e6;\n                            }\n                        }\n                    }\n\n                    .goods-user-collection-modal {\n                        position: absolute;\n                        right: 25px;\n                        bottom: 73px;\n\n                    }\n\n                    .goods-user-collection-modal {\n                        transition: opacity .5s ease-in-out;\n                        opacity: 0;\n                    }\n                }\n                .goods-list-li:hover {\n                    cursor: pointer;\n                    /*margin-top: -5px;*/\n                    border-color: #ee7a23;\n                    transition: all .5s ease-out;\n                    transform: translateY(-5px);\n                    -webkit-box-shadow: 0 0 10px #999;\n                    -moz-box-shadow: 0 0 10px #999;\n                    box-shadow: 0 0 10px #999;\n                }\n            }\n            .mooc-mall-goods-ul-responsevie {\n                display: none;\n            }\n        }\n    }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/_iview-loader@1.2.2@iview-loader/index.js??ref--0-2!./GoodsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/_iview-loader@1.2.2@iview-loader/index.js??ref--0-2!./GoodsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsList.vue?vue&type=template&id=6f4a2a8b&scoped=true&\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsList.vue?vue&type=style&index=0&id=6f4a2a8b&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f4a2a8b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}